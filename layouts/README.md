<template>
  <div >
    <client-only>
       <header >
        <div class="container">
          <div class="row">
            <div class="col-12">
              <nav class="navbar navbar-expand-lg navbar-light px-0">
                <a class="navbar-brand" href="/">
                  <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 745.11 332.3" style="height: 40px">
                    <defs>
                      <style>.cls-1 {fill: #404041;} .cls-2 { fill: #62cbc9;}</style>
                    </defs>
                    <path class="cls-1" d="M99.85,189.55h35v17.52c8.06-10.38,18.43-19.82,36.17-19.82,26.5,0,41.94,17.51,41.94,45.86v79.95H178v-68.9c0-16.59-7.83-25.12-21.2-25.12s-21.88,8.53-21.88,25.12v68.9h-35Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M234.18,295.22l14.51-22.32c12.95,9.37,26.57,14.29,37.72,14.29,9.83,0,14.29-3.58,14.29-8.94v-.44c0-7.37-11.6-9.83-24.77-13.85-16.75-4.9-35.72-12.71-35.72-35.94v-.44c0-24.33,19.64-38,43.75-38a82.89,82.89,0,0,1,44.65,13.85l-12.95,23.44C303.83,220,292,215.75,283.29,215.75c-8.26,0-12.5,3.57-12.5,8.25v.46c0,6.69,11.39,9.81,24.33,14.28,16.75,5.58,36.17,13.62,36.17,35.49v.45c0,26.57-19.87,38.62-45.76,38.62A83.82,83.82,0,0,1,234.18,295.22Z" transform="translate(-26.55 -13.65)"/>
                    <path class="cls-1" d="M352.49,190.35h34v17.21c8.28-11.17,19.68-19.45,37.34-19.45,27.94,0,54.55,21.91,54.55,61.93v.44c0,40-26.16,61.93-54.55,61.93-18.12,0-29.29-8.27-37.34-17.89V346h-34Zm91.88,60.13V250c0-19.9-13.41-33.09-29.28-33.09S386,230.14,386,250v.44c0,19.91,13.19,33.09,29.06,33.09S444.37,270.61,444.37,250.48Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M563.63,190.08h34.88v24.78c7.11-17,18.58-28,39.23-27.08v36.48H635.9c-23.17,0-37.39,14-37.39,43.36v45.44H563.63Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M653.26,251.91v-.45c0-33.79,24.54-61.62,59.65-61.62,40.3,0,58.75,30.7,58.75,64.28,0,2.65-.22,5.73-.44,8.83h-84c3.38,15.24,14.18,23.19,29.49,23.19,11.48,0,19.81-3.53,29.27-12.15l19.58,17c-11.26,13.69-27.47,22.08-49.3,22.08C680.05,313.08,653.26,288.13,653.26,251.91ZM738.35,242c-2-15-11-25.18-25.44-25.18-14.18,0-23.41,9.94-26.11,25.18Z" transform="translate(-26.55 -13.65)" />
                    <polygon class="cls-1" points="507.87 295.62 507.87 176.13 464 176.13 464 180.16 472.74 180.16 472.74 295.62 464 295.62 464 299.65 516.6 299.65 516.6 295.62 507.87 295.62" />
                    <polygon class="cls-1" points="43.86 295.62 43.86 176.13 0 176.13 0 180.16 8.73 180.16 8.73 295.62 0 295.62 0 299.65 52.59 299.65 52.59 295.62 43.86 295.62" />
                    <path class="cls-2" d="M499.67,133.89l-.05,0,.63.17a61.85,61.85,0,0,0,11.09,2.43c14.28,2.34,9.6,15.67-1.79,25.8a2.94,2.94,0,0,0,2.89,5c17.69-6,48.94-28.91,63.26-67.25a61.81,61.81,0,0,0,2.88-8.21c.18-.61.45-1.13.61-1.74,0-.09-.08-.15-.1-.24a61.69,61.69,0,1,0-79.42,44Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M87.9,98.86h13.68c10.47,0,16.89,4.12,16.89,15.33,0,4-1.42,8.65-4.93,10.92,6.64,1.18,9.64,7.92,9.64,14.12,0,11.05-7.78,16-18,16H87.9Zm11,23.47h1.35c5.37,0,8-1.56,8-7.41s-3.28-7.23-7.93-7.23H98.89Zm0,24.07h2.32c5.91,0,11-.76,11-8.07s-6-7.64-11.5-7.64H98.89Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M147.54,155.22h-11v-46.8H125.19V98.86h33.72v9.56H147.54Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M212.73,125.24v1.43c0,15.92-8.16,30-25.65,30-16.44,0-26.83-13.9-26.83-29.45,0-16.05,10.69-29.89,27.51-29.89A24.32,24.32,0,0,1,210,110.83l-9.72,5.23c-2.25-5.09-7-9-12.86-9-10.62,0-15.84,10.83-15.84,20.18S176.91,147,187.53,147c6.87,0,12.61-6,12.85-12.78H188.43v-9Z" transform="translate(-26.55 -13.65)" />
                    <path class="cls-1" d="M27.3,95.51h20l-.46,25.89h.46a23.89,23.89,0,0,1,2.82-6.74L60,95.51H82.3l-17.64,29,19.5,30.62H60.39l-9.71-18c-1.18-2.3-3-4.52-3.43-7h-.46l.46,25H27.3Z" transform="translate(-26.55 -13.65)" />
                  </svg>
                </a>

                <button
                  class="navbar-toggler"
                  type="button"
                  data-toggle="collapse"
                  data-target="#navmenu"
                  aria-controls="navmenu"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                >
                   <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>

                <div :class="navBar"  id="navmenu">
                  <ul class="navbar-nav mr-auto">
                    <li
                      class="nav-item"
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      :aria-expanded="false"
                      :class="{'active': ($router.currentRoute.path === '/'||  $router.currentRoute.path === '/th/') && !($router.currentRoute.hash=== '#faq')}">
                        <a href="/" class="nav-link">HOME</a>
                    </li>
                    <li
                      class="nav-item"
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      aria-expanded="false"
                      :class="{ 'active': ($router.currentRoute.path === '/jobs-exe/' || $router.currentRoute.path === '/th/jobs-exe/') && !( faq === '#faq')}">
                       <a href="/jobs-exe" class="nav-link">JOBS</a>
                    </li>
                    <li
                      class="nav-item"
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      aria-expanded="false"
                      :class="{ 'active': ($router.currentRoute.path === '/activites/' || $router.currentRoute.path === '/th/activites/') && !( faq === '#faq')}">
                       <a href="/activites" class="nav-link">ACTIVITIES</a>
                    </li>
                    <li
                      class="nav-item"
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      aria-expanded="false"
                      :class="{ 'active': $router.currentRoute.hash=== '#faq' }"
                      @click="navClick('#faq')">
                      <a :href="`/${isThFaq}`" class="nav-link">FAQ</a>
                    </li>
                      <!-- <a :href="`/${isThFaq}`" class="nav-link">FAQ</a> -->
                    <li
                      class="nav-item"
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      aria-expanded="false"
                      :class="{active: statusContact}">
                      <a class="nav-link" href="https://www.facebook.com/KBTGLive" target="_blank" >CONTACT</a>
                    </li>
                    <li
                      class="nav-item"
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      aria-expanded="false"
                      :class="{ 'active': ($router.currentRoute.path === '/join-event/' || $router.currentRoute.path === '/th/join-event/'|| $router.currentRoute.path === '/policy/') && !( faq === '#faq')}">
                        <a class="nav-link join" href="/join-event">JOIN EVENT</a> 
                    </li>
                      <!-- @click="navClick('join')"> -->
                  </ul>
                  <div class="d-flex justify-content-start language my-2 my-lg-0 btn-lang">
                     <span class="nav-item " :class="{'active':  storage === 'en'? true : false }" >
                     <button   @click="switchLanguage('en')"  class="nav-link border-0  " 
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      >EN</button></span>
                        <span style="margin: 5px 0;">/</span>
                      <span class="nav-item" :class="{'active':  storage === 'th'? true : false}" >
        
                      <button  @click="switchLanguage('th')"  class="nav-link border-0 "  
                      data-toggle="collapse"
                      data-target="#navmenu"
                      aria-controls="navmenu"
                      >TH</button></span>
                  </div>
                    <!-- <ul class="navbar-nav language my-2 my-lg-0">
                       <li class="nav-item" :class="{'active':  storage === 'en'? true : false}"><button   @click="switchLanguage('en')"  class="nav-link border-0  "  >EN</button></li>
                        <span style="margin: 5px 0;">/</span>
                      <li class="nav-item" :class="{'active':  storage === 'th'? true : false}" ><button  @click="switchLanguage('th')"  class="nav-link border-0 "  >TH</button></li>
                  </ul> -->
                </div>
              </nav>
            </div>
          </div>
        </div>
      </header>

      <Nuxt />

      <footer v-if="!$nuxt.$loading.loading">
        <div class="container">
          <div class="row">
            <div class="col-12 col-md-9">
              <div class="nav-footer">
                <div class="inspire">
                  <img
                    src="~/assets/images/logo-footer01.svg"
                    style="width: 91px; height: 41px"
                  />
                  <ul>
                    <li class="nav-item" :class="{'active': $router.currentRoute.path === '/'||  $router.currentRoute.path === '/th/'}"><a href="/" class="">HOME</a></li>
                    <li class="nav-item" @click="navClick('#faq')" :class="{ 'active': $router.currentRoute.hash=== '#faq' }"  ><a :href="`/${isThFaq}`" class="">FAQ</a></li>
                    <li class="nav-item" :class="{ 'active': ($router.currentRoute.path === '/activites/' || $router.currentRoute.path === '/th/activites/') && !( faq === '#faq')}"><a href="/activites" class="">ACTIVITIES</a></li>
                    <li class="nav-item" @click="navClick('policy')"><a href="/policy" class="">PRIVACY POLICY</a></li>
                    <li class="nav-item"  :class="{ 'active': ($router.currentRoute.path === '/jobs-exe/' || $router.currentRoute.path === '/th/job-exe/') && !( faq === '#faq')}"><a href="/jobs-exe" class="">JOBS</a></li>
                    <li><a href="https://www.facebook.com/KBTGLive" target="_blank" :class="{active: statusContact}">CONTACT</a></li>
                  </ul>
                </div>
                <div class="kbtg">
                  <img src="~/assets/images/logo-footer02.svg" style="width: 80px; height: 27px"/>
                  <ul>
                    <li><a href="https://www.kbtg.tech/" target="_blank">COMPANY</a></li>
                    <li><a href="https://www.kbtg.tech/about" target="_blank">PROJECT</a></li>
                    <li><a href="https://www.kbtg.tech/career" target="_blank">OTHER POSITIONS</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-12 col-md-3">
              <div class="social">
                <ul>
                  <li class="ml-2"><a href="https://www.facebook.com/KBTGLive" target="_blank"><img src="~/assets/images/facebook.png"/></a></li>
                  <li class="ml-2"><a href="https://www.linkedin.com/company/kasikorn-business-technology-group" target="_blank" ><img src="~/assets/images/in.png" /></a></li>
                  <li class="ml-2"> <a href="https://www.youtube.com/channel/UCXZMCLAYewhJbRd-YMA8KMA" target="_blank" ><img src="~/assets/images/youtube.png" /></a></li>
                </ul>
              </div>
            </div>
            <div class="col-12"><p class="copy">Â© 2021, KASIKORN Business-Technology Group (KBTG) All rights reserved.</p></div>
          </div>
        </div>
      </footer>
    </client-only>
  </div>
</template>
<script>
 export default {
  head: {
    script: [
      {
         async: true,
        type: "text/javascript",
        src: "/js/jquery-3.3.1.slim.min.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/js/jquery.min.js",
      },
      {
         async: true, 

        type: "text/javascript",
        src: "/js/popper.min.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/js/bootstrap.min.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/flexslider/jquery.flexslider.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/flexslider/js/shCore.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/flexslider/js/shBrushJScript.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/WOW-master/dist/wow.js",
      },
      {
         async: true,
        type: "text/javascript",
        src: "/js/wow.js",
      },
      {
        async: true,
        type: "text/javascript",
        src:'/js/gtm.js'
      }
    ],
  },
   data() {
    return {
      statusFaq: false,
      statusJoin: false,
      statusContact:false,
      storage: 'en',
      isThFaq:"th/#faq",
      faq: "",
      path: "",
      isShow: "false",
      navBar:"collapse navbar-collapse",
    };
  },
    async mounted(){

    await this.$nextTick(() => {this.$nuxt.$loading.start();setTimeout(() => this.$nuxt.$loading.finish(), 2000);});

    this.$router.push(this.switchLocalePath('th'))
    this.storage = localStorage.getItem('lang');
    //console.log('layout default---------lang:>>',this.storage)
      if(this.storage === null){ 
        localStorage.setItem('lang', 'en');
        this.storage = 'en'
      } 
    this.$router.push(this.switchLocalePath(this.storage))
    console.log('current:>> ',this.$router.currentRoute)

    return this.storage
  },

  methods: {
    switchLanguage(sw){
      
       if(sw === 'en'){
        localStorage.setItem('lang', 'en');
        this.storage = 'en'
        this.$router.push(this.switchLocalePath('en'))
      }
      if(sw === 'th'){
        localStorage.setItem('lang', 'th');
        this.storage = 'th'
        this.$router.push(this.switchLocalePath('th'))
      }
    },
    navClick(data) {
  
      if(data ==='#faq'){
         this.faq = data  
        if(this.storage === 'en')this.isThFaq = this.isThFaq
        if(this.storage === 'th')this.isThFaq = '#faq'
      }
       if(data ==='join'){
        this.statusJoin = data
      }
      if (data === "policy") {

        this.statusFaq = false;
        this.statusContact = false;
      }
      this.statusContact 
      
    },
  },
};
</script>
<style>
</style>
